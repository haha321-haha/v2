<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CalendarComponent 功能测试</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-item {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .status {
            font-weight: bold;
        }
        .pass { color: green; }
        .fail { color: red; }
        .pending { color: orange; }
        .test-button {
            background-color: #6366f1;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background-color: #4f46e5;
        }
    </style>
</head>
<body>
    <h1>CalendarComponent 功能测试</h1>

    <div class="test-item">
        <h3>测试项目 1: 按钮位置</h3>
        <p>验证【经期记录】按钮是否从头部右上角移至统计信息下方，居中显示</p>
        <div class="status pending" id="test1-status">待测试</div>
        <button class="test-button" onclick="window.open('http://localhost:3001/zh/interactive-tools/workplace-wellness', '_blank')">打开测试页面</button>
        <button class="test-button" onclick="document.getElementById('test1-status').textContent='通过'; document.getElementById('test1-status').className='status pass'">测试通过</button>
        <button class="test-button" onclick="document.getElementById('test1-status').textContent='失败'; document.getElementById('test1-status').className='status fail'">测试失败</button>
    </div>

    <div class="test-item">
        <h3>测试项目 2: 表单位置</h3>
        <p>验证表单是否位于按钮下方，同一视觉区域</p>
        <div class="status pending" id="test2-status">待测试</div>
        <button class="test-button" onclick="document.getElementById('test2-status').textContent='通过'; document.getElementById('test2-status').className='status pass'">测试通过</button>
        <button class="test-button" onclick="document.getElementById('test2-status').textContent='失败'; document.getElementById('test2-status').className='status fail'">测试失败</button>
    </div>

    <div class="test-item">
        <h3>测试项目 3: 自动聚焦</h3>
        <p>验证表单展开后是否自动聚焦到日期输入框</p>
        <div class="status pending" id="test3-status">待测试</div>
        <button class="test-button" onclick="document.getElementById('test3-status').textContent='通过'; document.getElementById('test3-status').className='status pass'">测试通过</button>
        <button class="test-button" onclick="document.getElementById('test3-status').textContent='失败'; document.getElementById('test3-status').className='status fail'">测试失败</button>
    </div>

    <div class="test-item">
        <h3>测试项目 4: 展开/收起动画</h3>
        <p>验证表单是否有平滑的展开/收起动画</p>
        <div class="status pending" id="test4-status">待测试</div>
        <button class="test-button" onclick="document.getElementById('test4-status').textContent='通过'; document.getElementById('test4-status').className='status pass'">测试通过</button>
        <button class="test-button" onclick="document.getElementById('test4-status').textContent='失败'; document.getElementById('test4-status').className='status fail'">测试失败</button>
    </div>

    <div class="test-item">
        <h3>测试项目 5: 状态指示</h3>
        <p>验证箭头图标是否根据表单状态切换（展开时向上，收起时向下）</p>
        <div class="status pending" id="test5-status">待测试</div>
        <button class="test-button" onclick="document.getElementById('test5-status').textContent='通过'; document.getElementById('test5-status').className='status pass'">测试通过</button>
        <button class="test-button" onclick="document.getElementById('test5-status').textContent='失败'; document.getElementById('test5-status').className='status fail'">测试失败</button>
    </div>

    <div class="test-item">
        <h3>测试项目 6: 可访问性</h3>
        <p>验证按钮是否添加了 aria-expanded 属性</p>
        <div class="status pending" id="test6-status">待测试</div>
        <button class="test-button" onclick="document.getElementById('test6-status').textContent='通过'; document.getElementById('test6-status').className='status pass'">测试通过</button>
        <button class="test-button" onclick="document.getElementById('test6-status').textContent='失败'; document.getElementById('test6-status').className='status fail'">测试失败</button>
    </div>

    <div class="test-item">
        <h3>总体评价</h3>
        <div class="status pending" id="overall-status">待测试</div>
        <button class="test-button" onclick="updateOverallStatus()">更新总体状态</button>
    </div>

    <script>
        function updateOverallStatus() {
            const statuses = document.querySelectorAll('.status');
            let passCount = 0;
            let failCount = 0;
            let pendingCount = 0;

            statuses.forEach(status => {
                if (status.textContent === '通过') passCount++;
                else if (status.textContent === '失败') failCount++;
                else if (status.textContent === '待测试') pendingCount++;
            });

            const overallStatus = document.getElementById('overall-status');
            if (failCount === 0 && pendingCount === 0) {
                overallStatus.textContent = '全部通过';
                overallStatus.className = 'status pass';
            } else if (failCount > 0) {
                overallStatus.textContent = `有 ${failCount} 项测试失败`;
                overallStatus.className = 'status fail';
            } else {
                overallStatus.textContent = `还有 ${pendingCount} 项待测试`;
                overallStatus.className = 'status pending';
            }
        }
    </script>
</body>
</html>
